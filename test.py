import numpy as np
from sklearn import svm
from sklearn import preprocessing
from sklearn.feature_selection import SelectKBest,chi2,SelectPercentile,f_classif
import matplotlib.pyplot as plt
from sklearn.metrics import confusion_matrix
from sklearn.metrics import precision_score
from sklearn.metrics import recall_score
from sklearn.multiclass import OneVsRestClassifier
from sklearn.metrics import precision_recall_curve
from sklearn.metrics import average_precision_score
from sklearn.metrics import roc_curve, auc
from sklearn.metrics import precision_recall_curve
from sklearn.externals import joblib
import time
import methods as m


coarse_rnds = [['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [1, 1, 0.81481481481481488, 0.94750280583613944, 0.75], [1, 2, 0.96296296296296302, 0.9882716049382716, 0.75], [1, 3, 0.81481481481481488, 0.94750280583613944, 0.75], [1, 4, 0.75, 0.9153454184704185, 0.72727272727272729], [1, 5, 0.45833333333333331, 0.73578192640692641, 0.72727272727272729], [1, 6, 0.54166666666666663, 0.80363906926406925, 0.72727272727272729], [1, 7, 0.95833333333333337, 0.98524305555555558, 0.72727272727272729], [1, 8, 0.54166666666666663, 0.82432359307359304, 0.72727272727272729], [1, 9, 0.625, 0.82784541847041848, 0.72727272727272729], [1, 10, 0.75, 0.9153454184704185, 0.72727272727272729], ['Rnd', '1', 'Sec', '11.46'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [2, 1, 0.70940170940170932, 0.76619824342992571, 0.40909090909090912], [2, 2, 0.90598290598290609, 0.88354269187602541, 0.5], [2, 3, 0.72649572649572658, 0.69539670569082324, 0.45454545454545453], [2, 4, 0.71296296296296291, 0.7520848007819112, 0.42857142857142855], [2, 5, 0.69444444444444442, 0.66806894372683856, 0.47619047619047616], [2, 6, 0.72222222222222221, 0.67825736355148125, 0.42857142857142855], [2, 7, 0.77777777777777779, 0.84493177387914242, 0.47619047619047616], [2, 8, 0.63888888888888884, 0.60775966331951881, 0.42857142857142855], [2, 9, 0.75, 0.59594096898018456, 0.47619047619047616], [2, 10, 0.85185185185185186, 0.84071067821067835, 0.52380952380952384], ['Rnd', '2', 'Sec', '118.12'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [3, 1, 0.80454545454545445, 0.50483456236745716, 0.53125], [3, 2, 0.75909090909090904, 0.62851506541311697, 0.5], [3, 3, 0.71818181818181814, 0.43808344583692882, 0.53125], [3, 4, 0.70707070707070696, 0.37285196934319742, 0.67741935483870963], [3, 5, 0.81313131313131315, 0.54197646895015317, 0.45161290322580644], [3, 6, 0.61616161616161613, 0.32031689443454148, 0.45161290322580644], [3, 7, 0.87878787878787878, 0.66841214341214328, 0.58064516129032262], [3, 8, 0.65656565656565657, 0.42807681678295711, 0.41935483870967744], [3, 9, 0.63131313131313127, 0.32808891335835288, 0.45161290322580644], [3, 10, 0.75714285714285712, 0.4701430269077328, 0.5161290322580645], ['Rnd', '3', 'Sec', '121.24'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [4, 1, 0.61290322580645151, 0.28719044312001207, 0.35714285714285715], [4, 2, 0.62756598240469197, 0.31147644274467151, 0.35714285714285715], [4, 3, 0.77712609970674484, 0.57540605704408099, 0.52380952380952384], [4, 4, 0.74838709677419357, 0.35554476010745362, 0.53658536585365857], [4, 5, 0.79677419354838719, 0.42533197358197361, 0.3902439024390244], [4, 6, 0.74193548387096775, 0.45968182984487327, 0.43902439024390244], [4, 7, 0.67741935483870974, 0.3143409576142363, 0.41463414634146339], [4, 8, 0.70606060606060606, 0.37933029953857417, 0.3902439024390244], [4, 9, 0.60606060606060608, 0.28775317119450672, 0.48780487804878048], [4, 10, 0.65757575757575759, 0.31154604998371443, 0.41463414634146339], ['Rnd', '4', 'Sec', '119.87'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [5, 1, 0.71597633136094674, 0.34678622358074485, 0.38461538461538464], [5, 2, 0.55029585798816572, 0.24464775094107258, 0.44230769230769229], [5, 3, 0.67105263157894735, 0.45208542940977492, 0.36538461538461536], [5, 4, 0.68421052631578949, 0.33510957382030437, 0.56862745098039214], [5, 5, 0.65587044534412953, 0.29877491544149326, 0.45098039215686275], [5, 6, 0.7165991902834008, 0.34445720790463841, 0.50980392156862742], [5, 7, 0.74493927125506076, 0.48745822105550279, 0.45098039215686275], [5, 8, 0.63562753036437247, 0.29621594198615642, 0.39215686274509803], [5, 9, 0.74898785425101222, 0.40220424545760997, 0.49019607843137253], [5, 10, 0.72672064777327938, 0.36613790892131326, 0.50980392156862742], ['Rnd', '5', 'Sec', '118.09'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [6, 1, 0.70849673202614383, 0.36499627773086762, 0.5161290322580645], [6, 2, 0.67450980392156867, 0.46380666442423579, 0.46774193548387094], [6, 3, 0.72549019607843135, 0.39567112764756274, 0.5], [6, 4, 0.60694444444444451, 0.28685572871003406, 0.50819672131147542], [6, 5, 0.77222222222222225, 0.4474538097429121, 0.50819672131147542], [6, 6, 0.81111111111111112, 0.51313823977011752, 0.50819672131147542], [6, 7, 0.77139037433155078, 0.55171391198938324, 0.54098360655737709], [6, 8, 0.74866310160427807, 0.5218451226736418, 0.42622950819672129], [6, 9, 0.6737967914438503, 0.35238335630803863, 0.54098360655737709], [6, 10, 0.67112299465240643, 0.35689687117426849, 0.47540983606557374], ['Rnd', '6', 'Sec', '114.93'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [7, 1, 0.71988795518207283, 0.41865798945763527, 0.52777777777777779], [7, 2, 0.74789915966386544, 0.49920183449537325, 0.54166666666666663], [7, 3, 0.79271708683473385, 0.46794413427745718, 0.55555555555555558], [7, 4, 0.67254901960784319, 0.35920814469344881, 0.43661971830985913], [7, 5, 0.74411764705882355, 0.48084157086286755, 0.53521126760563376], [7, 6, 0.76274509803921564, 0.49016976698861808, 0.53521126760563376], [7, 7, 0.72941176470588243, 0.42076622995234669, 0.50704225352112675], [7, 8, 0.72058823529411764, 0.45370161544303272, 0.56338028169014087], [7, 9, 0.68095238095238098, 0.36729232225387021, 0.53521126760563376], [7, 10, 0.78476190476190477, 0.59701841518680054, 0.50704225352112675], ['Rnd', '7', 'Sec', '121.18'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [8, 1, 0.74526315789473685, 0.49493848318546285, 0.52439024390243905], [8, 2, 0.7466666666666667, 0.44432545794844991, 0.6097560975609756], [8, 3, 0.78245614035087729, 0.48098017576717766, 0.54878048780487809], [8, 4, 0.79897660818713456, 0.49475110354126905, 0.49382716049382713], [8, 5, 0.69590643274853803, 0.38339867147648699, 0.43209876543209874], [8, 6, 0.75292397660818722, 0.46945092894246709, 0.53086419753086422], [8, 7, 0.75292397660818722, 0.4766854509864214, 0.5679012345679012], [8, 8, 0.63, 0.39851904069798239, 0.44444444444444442], [8, 9, 0.63928571428571435, 0.39132821712341348, 0.4567901234567901], [8, 10, 0.71857142857142864, 0.44859689666770036, 0.4567901234567901], ['Rnd', '8', 'Sec', '122.59'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [9, 1, 0.80733442802408317, 0.57894794582375686, 0.46739130434782611], [9, 2, 0.72523262178434589, 0.49802938473244585, 0.51086956521739135], [9, 3, 0.67049808429118773, 0.38387642473862615, 0.54347826086956519], [9, 4, 0.69387755102040816, 0.40321464972625709, 0.52747252747252749], [9, 5, 0.723922902494331, 0.43192523599307586, 0.52747252747252749], [9, 6, 0.72675736961451243, 0.43666479862931001, 0.5714285714285714], [9, 7, 0.78117913832199548, 0.59324212906181661, 0.56043956043956045], [9, 8, 0.70578231292517013, 0.50513085008958225, 0.53846153846153844], [9, 9, 0.77753058954393772, 0.50857176737288323, 0.47252747252747251], [9, 10, 0.72135706340378203, 0.50385377754032667, 0.52747252747252749], ['Rnd', '9', 'Sec', '117.92'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [10, 1, 0.73616071428571428, 0.48718374738075815, 0.60784313725490191], [10, 2, 0.72142857142857142, 0.44235696291194687, 0.53921568627450978], [10, 3, 0.71607142857142858, 0.46250218372545177, 0.47058823529411764], [10, 4, 0.73824884792626733, 0.49058719019633912, 0.5544554455445545], [10, 5, 0.68801843317972344, 0.39555628457779252, 0.47524752475247523], [10, 6, 0.73087557603686637, 0.42214150838655651, 0.5643564356435643], [10, 7, 0.75253456221198145, 0.47936070299965233, 0.48514851485148514], [10, 8, 0.70414746543778806, 0.46063362821442988, 0.48514851485148514], [10, 9, 0.80691244239631343, 0.54451745972927434, 0.5643564356435643], [10, 10, 0.73414855072463769, 0.46858883419368907, 0.60396039603960394], ['Rnd', '10', 'Sec', '117.85'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [11, 1, 0.6716141001855287, 0.38980958821655437, 0.5357142857142857], [11, 2, 0.76326530612244892, 0.54696095106803366, 0.5535714285714286], [11, 3, 0.71020408163265303, 0.44199406738305275, 0.5178571428571429], [11, 4, 0.71199388846447675, 0.43223309354183909, 0.54054054054054057], [11, 5, 0.67647058823529416, 0.40823456575148703, 0.52252252252252251], [11, 6, 0.80443086325439273, 0.52629331296172221, 0.61261261261261257], [11, 7, 0.76126814362108486, 0.55687858868495188, 0.52252252252252251], [11, 8, 0.69633307868601979, 0.40942340739630834, 0.51351351351351349], [11, 9, 0.71240601503759404, 0.45051647698502595, 0.47747747747747749], [11, 10, 0.74323308270676691, 0.53863361090974082, 0.52252252252252251], ['Rnd', '11', 'Sec', '118.08'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [12, 1, 0.66422893481717016, 0.42441846327204802, 0.54098360655737709], [12, 2, 0.72686804451510334, 0.48426552816977819, 0.44262295081967212], [12, 3, 0.77456279809220985, 0.4922532221242335, 0.59836065573770492], [12, 4, 0.77875816993464053, 0.50285512758620166, 0.49586776859504134], [12, 5, 0.73071895424836597, 0.45904472294741772, 0.45454545454545453], [12, 6, 0.77027027027027029, 0.51107457600184003, 0.52066115702479343], [12, 7, 0.65572715572715579, 0.36576993012044717, 0.49586776859504134], [12, 8, 0.67438867438867445, 0.4070230825038697, 0.52892561983471076], [12, 9, 0.69658944658944666, 0.39153125016635953, 0.52066115702479343], [12, 10, 0.71171171171171177, 0.40260062719725642, 0.50413223140495866], ['Rnd', '12', 'Sec', '121.15'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [13, 1, 0.68734491315136481, 0.40248250542273689, 0.51515151515151514], [13, 2, 0.71078025916735599, 0.42798796067105882, 0.48484848484848486], [13, 3, 0.76454370002757099, 0.45625566198410572, 0.49242424242424243], [13, 4, 0.67600452744765138, 0.44345269310554281, 0.48854961832061067], [13, 5, 0.77815506508205989, 0.47062943590777867, 0.56488549618320616], [13, 6, 0.71618562535370689, 0.38559827653782741, 0.5572519083969466], [13, 7, 0.69468024900962089, 0.39334375796850923, 0.5419847328244275], [13, 8, 0.69043576683644592, 0.37686084498383049, 0.47328244274809161], [13, 9, 0.71250707413695524, 0.41083845583056544, 0.46564885496183206], [13, 10, 0.75724637681159424, 0.52375558400212108, 0.5725190839694656], ['Rnd', '13', 'Sec', '120.6'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [14, 1, 0.73480392156862739, 0.40416854133184243, 0.46478873239436619], [14, 2, 0.72843137254901957, 0.48921707320370778, 0.4859154929577465], [14, 3, 0.70490196078431366, 0.39020019738212136, 0.52112676056338025], [14, 4, 0.77802916038210157, 0.4864429491484793, 0.52482269503546097], [14, 5, 0.6747109100050277, 0.36126512069200067, 0.45390070921985815], [14, 6, 0.74384112619406739, 0.52671831417744519, 0.50354609929078009], [14, 7, 0.76143790849673199, 0.44814030539217703, 0.51773049645390068], [14, 8, 0.69205630970336851, 0.35228126368843982, 0.48226950354609927], [14, 9, 0.76948215183509294, 0.48636723513905139, 0.49645390070921985], [14, 10, 0.62623762376237624, 0.323902434692523, 0.51063829787234039], ['Rnd', '14', 'Sec', '119.18'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [15, 1, 0.67523621182157767, 0.38498403342132831, 0.49342105263157893], [15, 2, 0.73038892551087675, 0.45135781161798566, 0.47368421052631576], [15, 3, 0.80927268732146773, 0.57114237726488959, 0.51973684210526316], [15, 4, 0.65360360360360348, 0.31391974326889571, 0.47019867549668876], [15, 5, 0.77454954954954958, 0.54525892925747599, 0.52317880794701987], [15, 6, 0.67671840354767188, 0.34421591603519719, 0.49668874172185429], [15, 7, 0.70643015521064301, 0.40106292721847192, 0.49668874172185429], [15, 8, 0.6835920177383592, 0.35125626928245035, 0.50331125827814571], [15, 9, 0.72283813747228387, 0.3897268167905556, 0.50993377483443714], [15, 10, 0.80909090909090908, 0.53710952734981854, 0.50331125827814571], ['Rnd', '15', 'Sec', '120.75'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [16, 1, 0.75532538596834087, 0.43378077499299739, 0.51851851851851849], [16, 2, 0.74477232753566547, 0.42899966425356217, 0.52469135802469136], [16, 3, 0.68673050615595066, 0.35793915200219761, 0.46913580246913578], [16, 4, 0.76870748299319724, 0.44222897240211168, 0.52795031055900621], [16, 5, 0.79551820728291311, 0.55092188883151505, 0.52795031055900621], [16, 6, 0.64845938375350132, 0.35430950269336675, 0.47204968944099379], [16, 7, 0.66206482593037208, 0.32361239323586738, 0.44720496894409939], [16, 8, 0.7292917166866747, 0.47021482656589342, 0.50931677018633537], [16, 9, 0.71147024044146634, 0.35599170287640869, 0.49068322981366458], [16, 10, 0.68545526212061481, 0.37861938277643614, 0.50931677018633537], ['Rnd', '16', 'Sec', '118.83'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [17, 1, 0.75888013998250214, 0.42711377902000947, 0.55813953488372092], [17, 2, 0.7151356080489939, 0.40773060974685044, 0.43023255813953487], [17, 3, 0.7408573928258968, 0.43766828903060884, 0.47674418604651164], [17, 4, 0.7759484609878311, 0.42371590245520774, 0.46198830409356723], [17, 5, 0.6950608446671438, 0.39595054501991156, 0.52631578947368418], [17, 6, 0.72351467430207583, 0.37374989796893654, 0.50292397660818711], [17, 7, 0.67788117394416603, 0.36224873375166861, 0.46198830409356723], [17, 8, 0.71481481481481479, 0.37106223867251953, 0.50877192982456143], [17, 9, 0.7322751322751323, 0.39815584792554193, 0.52046783625730997], [17, 10, 0.65996472663139327, 0.33792191354897438, 0.49122807017543857], ['Rnd', '17', 'Sec', '120.58'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [18, 1, 0.67195273631840791, 0.32666963886692085, 0.52197802197802201], [18, 2, 0.71113184079601988, 0.36860911981286015, 0.45054945054945056], [18, 3, 0.7569433788553015, 0.44593871036693655, 0.51098901098901095], [18, 4, 0.72681704260651636, 0.41170957358324622, 0.44751381215469616], [18, 5, 0.75579573934837097, 0.42528572292965611, 0.51381215469613262], [18, 6, 0.69329573934837097, 0.4096025501162241, 0.51933701657458564], [18, 7, 0.71193609022556392, 0.37115661079300161, 0.50276243093922657], [18, 8, 0.74154135338345872, 0.52586631816381468, 0.49171270718232046], [18, 9, 0.69392230576441105, 0.3665777405642463, 0.46408839779005523], [18, 10, 0.76629072681704269, 0.44705145979845295, 0.574585635359116], ['Rnd', '18', 'Sec', '122.71'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [19, 1, 0.74084507042253522, 0.41663928722260435, 0.50520833333333337], [19, 2, 0.69760563380281693, 0.35611096675654719, 0.48958333333333331], [19, 3, 0.71619718309859159, 0.38869680106855642, 0.53125], [19, 4, 0.72535211267605637, 0.40212284792149644, 0.47120418848167539], [19, 5, 0.73958033917792476, 0.41694652440245816, 0.52879581151832455], [19, 6, 0.75645390070921992, 0.42977482477183171, 0.50785340314136129], [19, 7, 0.72113475177304953, 0.36144538554486855, 0.53926701570680624], [19, 8, 0.75773049645390067, 0.45509238152420084, 0.4607329842931937], [19, 9, 0.74624113475177301, 0.45132567636614773, 0.51308900523560208], [19, 10, 0.66652482269503555, 0.35662072378823989, 0.47643979057591623], ['Rnd', '19', 'Sec', '119.32'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [20, 1, 0.76925074665627835, 0.45491134684290785, 0.4405940594059406], [20, 2, 0.74263082716530326, 0.39907951719359713, 0.48019801980198018], [20, 3, 0.68051282051282058, 0.32916666897967994, 0.48019801980198018], [20, 4, 0.78065359477124185, 0.46945877589921059, 0.55223880597014929], [20, 5, 0.71999999999999997, 0.40996287066563852, 0.50248756218905477], [20, 6, 0.72457516339869277, 0.42180537974577276, 0.47263681592039802], [20, 7, 0.73973856209150324, 0.3832863809425251, 0.51741293532338306], [20, 8, 0.69450980392156858, 0.41563840338125524, 0.50248756218905477], [20, 9, 0.70718954248366006, 0.36269967078592774, 0.49751243781094528], [20, 10, 0.72379084967320262, 0.43099454704969414, 0.4925373134328358], ['Rnd', '20', 'Sec', '119.26'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [21, 1, 0.79767414263676284, 0.45262331521590482, 0.46226415094339623], [21, 2, 0.70677583956330836, 0.34776584243537234, 0.5], [21, 3, 0.69633321466714126, 0.3653855278556068, 0.45754716981132076], [21, 4, 0.68783260764392828, 0.33559683852979827, 0.47393364928909953], [21, 5, 0.72847121432027095, 0.36320269349993251, 0.44549763033175355], [21, 6, 0.67518509672796756, 0.33149224292823842, 0.49763033175355448], [21, 7, 0.76618103654167657, 0.43173939654765436, 0.51658767772511849], [21, 8, 0.74934320515882491, 0.43357185147217403, 0.52606635071090047], [21, 9, 0.70026271793646999, 0.41067017456442162, 0.46919431279620855], [21, 10, 0.73799856699307376, 0.49001394722885899, 0.52606635071090047], ['Rnd', '21', 'Sec', '117.46']]




fine_rnds = [['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [1, 1, 0.71180555555555558, 0.24500955824032378, 0.83333333333333337], [1, 2, 0.72482638888888895, 0.24657228544496071, 0.83333333333333337], [1, 3, 0.84722222222222221, 0.52417367254716152, 0.91666666666666663], [1, 4, 0.67355371900826444, 0.16112801963237303, 0.54545454545454541], [1, 5, 0.78099173553719015, 0.42846179866924761, 0.72727272727272729], [1, 6, 0.73450413223140498, 0.4663906570787576, 0.81818181818181823], [1, 7, 0.7376033057851239, 0.43822188784839122, 0.72727272727272729], [1, 8, 0.82851239669421495, 0.46955830369493856, 0.81818181818181823], [1, 9, 0.67665289256198335, 0.25357333374254193, 0.72727272727272729], [1, 10, 0.76756198347107429, 0.37603187468119981, 0.72727272727272729], ['Rnd', '1', 'Sec', '11.46'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [2, 1, 0.89508310249307477, 0.52762308802434588, 0.68421052631578949], [2, 2, 0.82686980609418281, 0.42554509221323417, 0.73684210526315785], [2, 3, 0.87015235457063711, 0.51823948833219413, 0.78947368421052633], [2, 4, 0.89313271604938271, 0.50637850843709808, 0.66666666666666663], [2, 5, 0.86998456790123446, 0.55332327751330501, 0.77777777777777779], [2, 6, 0.83912037037037035, 0.44783619325178914, 0.55555555555555558], [2, 7, 0.81211419753086411, 0.3787132269333196, 0.44444444444444442], [2, 8, 0.88271604938271608, 0.65118152522385775, 1.0], [2, 9, 0.91087962962962965, 0.5534259401022612, 0.88888888888888884], [2, 10, 0.85493827160493818, 0.50826851731679412, 0.77777777777777779], ['Rnd', '2', 'Sec', '118.12'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [3, 1, 0.88221153846153844, 0.63088812695952046, 0.53846153846153844], [3, 2, 0.87999260355029585, 0.62753590591894204, 0.65384615384615385], [3, 3, 0.92270710059171601, 0.6489755346191507, 0.73076923076923073], [3, 4, 0.89160000000000006, 0.663771711678941, 0.56000000000000005], [3, 5, 0.91839999999999999, 0.69488467171432455, 0.59999999999999998], [3, 6, 0.89080000000000004, 0.64485631910539154, 0.71999999999999997], [3, 7, 0.93020000000000003, 0.6835246770523502, 0.52000000000000002], [3, 8, 0.93020000000000014, 0.69425504221887657, 0.59999999999999998], [3, 9, 0.90140000000000009, 0.70512519087615577, 0.64000000000000001], [3, 10, 0.93280000000000007, 0.61789543905760291, 0.56000000000000005], ['Rnd', '3', 'Sec', '121.24'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [4, 1, 0.85307621671258038, 0.60497689944311983, 0.51515151515151514], [4, 2, 0.92022497704315886, 0.65170250274291397, 0.45454545454545453], [4, 3, 0.87213039485766752, 0.67074508685196044, 0.39393939393939392], [4, 4, 0.90771484375, 0.64842599233140774, 0.5], [4, 5, 0.9515380859375, 0.74341273998280288, 0.5625], [4, 6, 0.9122314453125, 0.65512697246319529, 0.4375], [4, 7, 0.9307861328125, 0.70828494991238067, 0.375], [4, 8, 0.9368896484375, 0.72403557124323414, 0.5625], [4, 9, 0.8944091796875, 0.61097550929745348, 0.53125], [4, 10, 0.85888671875, 0.54997673968870109, 0.375], ['Rnd', '4', 'Sec', '119.87'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [5, 1, 0.92039062500000002, 0.62496218127608638, 0.375], [5, 2, 0.908203125, 0.63126176633740128, 0.42499999999999999], [5, 3, 0.92765625000000007, 0.73806859480839393, 0.47499999999999998], [5, 4, 0.90664036817882965, 0.62281537480072713, 0.4358974358974359], [5, 5, 0.88650558842866534, 0.5951902718415355, 0.38461538461538464], [5, 6, 0.91050295857988173, 0.64512179961473115, 0.46153846153846156], [5, 7, 0.90351742274819202, 0.68348693948059747, 0.41025641025641024], [5, 8, 0.91666666666666663, 0.674967146236501, 0.38461538461538464], [5, 9, 0.89102564102564097, 0.64077003122038945, 0.4358974358974359], [5, 10, 0.86785009861932949, 0.53188673290186927, 0.41025641025641024], ['Rnd', '5', 'Sec', '118.09'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [6, 1, 0.89644635581711185, 0.63918820960112144, 0.40425531914893614], [6, 2, 0.89616342236306012, 0.56074262292462196, 0.42553191489361702], [6, 3, 0.91449751018560432, 0.66229323690291975, 0.42553191489361702], [6, 4, 0.90465500945179589, 0.60983212879409288, 0.45652173913043476], [6, 5, 0.90701795841209831, 0.69665104253971222, 0.34782608695652173], [6, 6, 0.9191871455576559, 0.6591572191112085, 0.39130434782608697], [6, 7, 0.92444470699432901, 0.69246929299195137, 0.45652173913043476], [6, 8, 0.90394612476370506, 0.59371333561026607, 0.36956521739130432], [6, 9, 0.90873109640831762, 0.69193770053906756, 0.39130434782608697], [6, 10, 0.87978497164461256, 0.53199488426283525, 0.36956521739130432], ['Rnd', '6', 'Sec', '114.93'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [7, 1, 0.89073216735253768, 0.56294624291093909, 0.37037037037037035], [7, 2, 0.90590706447187919, 0.57306053338330287, 0.40740740740740738], [7, 3, 0.90316358024691357, 0.58197702647514304, 0.42592592592592593], [7, 4, 0.91197935208259173, 0.65355384524502802, 0.37735849056603776], [7, 5, 0.89044143823424715, 0.55321738481970284, 0.41509433962264153], [7, 6, 0.91812032751868988, 0.66432622884338632, 0.47169811320754718], [7, 7, 0.91380384478462084, 0.61977991080568839, 0.43396226415094341], [7, 8, 0.92644179423282313, 0.67869921786554499, 0.41509433962264153], [7, 9, 0.89026343894624416, 0.64922441810659293, 0.37735849056603776], [7, 10, 0.88412246351014601, 0.5775748339644412, 0.43396226415094341], ['Rnd', '7', 'Sec', '121.18'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [8, 1, 0.90378930395055102, 0.57768874726243402, 0.44262295081967212], [8, 2, 0.90745095404461174, 0.60429644235099711, 0.4098360655737705], [8, 3, 0.89572695511959155, 0.61678673647293603, 0.4098360655737705], [8, 4, 0.90461805555555552, 0.59284248229060366, 0.43333333333333335], [8, 5, 0.91572916666666659, 0.67631117964688103, 0.41666666666666669], [8, 6, 0.89694444444444443, 0.62275633087998239, 0.40000000000000002], [8, 7, 0.90052083333333333, 0.56935722754328466, 0.43333333333333335], [8, 8, 0.91302083333333328, 0.59487850621678695, 0.41666666666666669], [8, 9, 0.90524305555555551, 0.58044796370710794, 0.43333333333333335], [8, 10, 0.89413194444444444, 0.57444625507680536, 0.43333333333333335], ['Rnd', '8', 'Sec', '122.59'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [9, 1, 0.90862889273356406, 0.6069424117726101, 0.4264705882352941], [9, 2, 0.90284385813148793, 0.61256269894678395, 0.44117647058823528], [9, 3, 0.88946258650519028, 0.59527135778004625, 0.45588235294117646], [9, 4, 0.89978280240588104, 0.59861179520869134, 0.44776119402985076], [9, 5, 0.89443640008910674, 0.59301688500932714, 0.43283582089552236], [9, 6, 0.87917687680997991, 0.51102237391344307, 0.41791044776119401], [9, 7, 0.90106371129427487, 0.56603578830878809, 0.44776119402985076], [9, 8, 0.87895411004678103, 0.51883122511623103, 0.44776119402985076], [9, 9, 0.91133882824682555, 0.6340322176450377, 0.46268656716417911], [9, 10, 0.91220204945422134, 0.62948670948003482, 0.41791044776119401], ['Rnd', '9', 'Sec', '117.92'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [10, 1, 0.8862444444444445, 0.59634530675852349, 0.41333333333333333], [10, 2, 0.89255555555555555, 0.54997592425467323, 0.44], [10, 3, 0.87815555555555558, 0.54544171147960774, 0.44], [10, 4, 0.9056565010956904, 0.61503886460396451, 0.44594594594594594], [10, 5, 0.88529492330168003, 0.54848207822333583, 0.41891891891891891], [10, 6, 0.89787253469685901, 0.58259662770316301, 0.43243243243243246], [10, 7, 0.9157003287070854, 0.58531513320987183, 0.41891891891891891], [10, 8, 0.89613769174579994, 0.55194291673782769, 0.43243243243243246], [10, 9, 0.89077337472607743, 0.60789006012137237, 0.43243243243243246], [10, 10, 0.9070717677136596, 0.63686160199412045, 0.41891891891891891], ['Rnd', '10', 'Sec', '117.85'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [11, 1, 0.88159949434860208, 0.52255655034180271, 0.43902439024390244], [11, 2, 0.9121244794765021, 0.6248059293158601, 0.42682926829268292], [11, 3, 0.88825475907198093, 0.5284166855493303, 0.43902439024390244], [11, 4, 0.89934842249657065, 0.60482723153475426, 0.4567901234567901], [11, 5, 0.88056317634506931, 0.57828504843768991, 0.43209876543209874], [11, 6, 0.8954237158969669, 0.55078609264500344, 0.43209876543209874], [11, 7, 0.89212772443225108, 0.58065916905977677, 0.41975308641975306], [11, 8, 0.91251333638164922, 0.62338175413095287, 0.41975308641975306], [11, 9, 0.90940786465477819, 0.6168136523292026, 0.41975308641975306], [11, 10, 0.90188233500990711, 0.58656954534164352, 0.41975308641975306], ['Rnd', '11', 'Sec', '118.08'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [12, 1, 0.89887640449438189, 0.59650106558111737, 0.4157303370786517], [12, 2, 0.90069120060598407, 0.62461554635381233, 0.42696629213483145], [12, 3, 0.90791882338088625, 0.63965486320848319, 0.4157303370786517], [12, 4, 0.9056850464876034, 0.58699675902650483, 0.40909090909090912], [12, 5, 0.890625, 0.55494448222295434, 0.40909090909090912], [12, 6, 0.89616154442148754, 0.54779385438159045, 0.40909090909090912], [12, 7, 0.89561273243801653, 0.61512618328138469, 0.42045454545454547], [12, 8, 0.90045519111570249, 0.57426938383551551, 0.40909090909090912], [12, 9, 0.90749289772727271, 0.61176870605505329, 0.43181818181818182], [12, 10, 0.89888946280991733, 0.55292284300642702, 0.42045454545454547], ['Rnd', '12', 'Sec', '121.15'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [13, 1, 0.91832139756944442, 0.61560361737700053, 0.39583333333333331], [13, 2, 0.90713161892361105, 0.64183687525183586, 0.39583333333333331], [13, 3, 0.88967556423611105, 0.57375249754412316, 0.41666666666666669], [13, 4, 0.9163019390581717, 0.62138478852346235, 0.41052631578947368], [13, 5, 0.9096952908587258, 0.61295740782877506, 0.40000000000000002], [13, 6, 0.8973545706371191, 0.56258677136768276, 0.40000000000000002], [13, 7, 0.89065096952908585, 0.57833137784914324, 0.40000000000000002], [13, 8, 0.8962742382271468, 0.56042863208784666, 0.40000000000000002], [13, 9, 0.88808864265927978, 0.52769331096833327, 0.40000000000000002], [13, 10, 0.91365650969529077, 0.59821797185692305, 0.41052631578947368], ['Rnd', '13', 'Sec', '120.6'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [14, 1, 0.91726364407578476, 0.61262044113072134, 0.38834951456310679], [14, 2, 0.91880714487699122, 0.67516397701713493, 0.39805825242718446], [14, 3, 0.89647940427938544, 0.57812200746362064, 0.38834951456310679], [14, 4, 0.89063100730488276, 0.62905038765911769, 0.39215686274509803], [14, 5, 0.88965782391387926, 0.55522230499482061, 0.38235294117647056], [14, 6, 0.91956218762014608, 0.63774725086199302, 0.38235294117647056], [14, 7, 0.92273404459823138, 0.6561592928388964, 0.38235294117647056], [14, 8, 0.89669838523644751, 0.5116638136101207, 0.38235294117647056], [14, 9, 0.92064350249903892, 0.65502677313944391, 0.38235294117647056], [14, 10, 0.90978229527104959, 0.62982923228280741, 0.38235294117647056], ['Rnd', '14', 'Sec', '119.18'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [15, 1, 0.91385330578512403, 0.66891316019789737, 0.37272727272727274], [15, 2, 0.89589876033057858, 0.56705990816294849, 0.37272727272727274], [15, 3, 0.91488636363636366, 0.61319674117778022, 0.37272727272727274], [15, 4, 0.9051637067586904, 0.59743793449688209, 0.3669724770642202], [15, 5, 0.91139213870886293, 0.63705770089503266, 0.3669724770642202], [15, 6, 0.91793620065651038, 0.65785203596905228, 0.3669724770642202], [15, 7, 0.91885152764918787, 0.65108981370841501, 0.3669724770642202], [15, 8, 0.91288612069691111, 0.62584167449542594, 0.37614678899082571], [15, 9, 0.91473781668209742, 0.59574645073584853, 0.39449541284403672], [15, 10, 0.91459052268327579, 0.62103255437128335, 0.37614678899082571], ['Rnd', '15', 'Sec', '120.75'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [16, 1, 0.91437468040032155, 0.61845071963659326, 0.35897435897435898], [16, 2, 0.90778179560230843, 0.58972757254589625, 0.38461538461538464], [16, 3, 0.90807400102271885, 0.63723724707353946, 0.37606837606837606], [16, 4, 0.91974769619500596, 0.65623792565558181, 0.36206896551724138], [16, 5, 0.92053730677764567, 0.66236972155760365, 0.37068965517241381], [16, 6, 0.91567887931034486, 0.59702036918432122, 0.36206896551724138], [16, 7, 0.91698870392390008, 0.61295096993709652, 0.37068965517241381], [16, 8, 0.90040688168846605, 0.62958096137203989, 0.37068965517241381], [16, 9, 0.91826137039239009, 0.67704876600975739, 0.36206896551724138], [16, 10, 0.92243237217598095, 0.6423399363240454, 0.36206896551724138], ['Rnd', '16', 'Sec', '118.83'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [17, 1, 0.9004292403746097, 0.6012927622366635, 0.36290322580645162], [17, 2, 0.91637129292403752, 0.59546874957317664, 0.36290322580645162], [17, 3, 0.91771266909469307, 0.64463600864765425, 0.36290322580645162], [17, 4, 0.91365093528984054, 0.64109228579837374, 0.35772357723577236], [17, 5, 0.92292947319717111, 0.65106574566717867, 0.36585365853658536], [17, 6, 0.92816775728732892, 0.67856879525323344, 0.35772357723577236], [17, 7, 0.92312776786304451, 0.64446998937603117, 0.35772357723577236], [17, 8, 0.91330391962456203, 0.63568961056273643, 0.35772357723577236], [17, 9, 0.90770209531363599, 0.60273305981549674, 0.36585365853658536], [17, 10, 0.90736334192610224, 0.63229802444500383, 0.35772357723577236], ['Rnd', '17', 'Sec', '120.58'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [18, 1, 0.91327719829846754, 0.6488277935131459, 0.37404580152671757], [18, 2, 0.90163014975817257, 0.58188261032400124, 0.36641221374045801], [18, 3, 0.91080065264261978, 0.61266231747742672, 0.36641221374045801], [18, 4, 0.90316568047337276, 0.5910259169739942, 0.36153846153846153], [18, 5, 0.91516272189349113, 0.64597495282102724, 0.36153846153846153], [18, 6, 0.92195266272189347, 0.6368541362008977, 0.36923076923076925], [18, 7, 0.91797337278106517, 0.6149978347358378, 0.36923076923076925], [18, 8, 0.91650887573964501, 0.61741116184434663, 0.36923076923076925], [18, 9, 0.91338017751479283, 0.64182194586153629, 0.36923076923076925], [18, 10, 0.92851331360946743, 0.6681251125259654, 0.38461538461538464], ['Rnd', '18', 'Sec', '122.71'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [19, 1, 0.91774968494013864, 0.63864530336285685, 0.36231884057971014], [19, 2, 0.92120877966813686, 0.63610370356042623, 0.36231884057971014], [19, 3, 0.91645006301197229, 0.66949752660774831, 0.36956521739130432], [19, 4, 0.91706404177100542, 0.63736316548557637, 0.35766423357664234], [19, 5, 0.90929191752357608, 0.57721967807963259, 0.35766423357664234], [19, 6, 0.92808620597794234, 0.63633206194964997, 0.36496350364963503], [19, 7, 0.92060711812030482, 0.63189845932720135, 0.35766423357664234], [19, 8, 0.92684746123927753, 0.63974387635336671, 0.36496350364963503], [19, 9, 0.90883904310298891, 0.63393865945989247, 0.37226277372262773], [19, 10, 0.90821301081570682, 0.59817073871785231, 0.36496350364963503], ['Rnd', '19', 'Sec', '119.32'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [20, 1, 0.92437574316290139, 0.62785754542266425, 0.35172413793103446], [20, 2, 0.92526159334126035, 0.6443821490890983, 0.35862068965517241], [20, 3, 0.9131034482758621, 0.64072232929302086, 0.35172413793103446], [20, 4, 0.93133921682098764, 0.63366933873377673, 0.35416666666666669], [20, 5, 0.92543764467592604, 0.68544918566418755, 0.34722222222222221], [20, 6, 0.90435112847222221, 0.58419230800298161, 0.35416666666666669], [20, 7, 0.9179386091820988, 0.63036165409139444, 0.35416666666666669], [20, 8, 0.92217640817901236, 0.67251715873520235, 0.35416666666666669], [20, 9, 0.91933714313271619, 0.66527321109027682, 0.3611111111111111], [20, 10, 0.91965060763888895, 0.63754322106889938, 0.35416666666666669], ['Rnd', '20', 'Sec', '119.26'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [21, 1, 0.91839616516620504, 0.64127900909023572, 0.34868421052631576], [21, 2, 0.92794537742382266, 0.70713297128829833, 0.34868421052631576], [21, 3, 0.91233660837950137, 0.63300801349017466, 0.34868421052631576], [21, 4, 0.91985548879435097, 0.61699967966162084, 0.3443708609271523], [21, 5, 0.91236129994298498, 0.62630271131940918, 0.35099337748344372], [21, 6, 0.92247050567957556, 0.65108641158596825, 0.35099337748344372], [21, 7, 0.93105565545370816, 0.65823576967866249, 0.3443708609271523], [21, 8, 0.90791522301653438, 0.60784852371854692, 0.3443708609271523], [21, 9, 0.93117078198324632, 0.6558576682537115, 0.35099337748344372], [21, 10, 0.9225965966404982, 0.61807476144065177, 0.35099337748344372], ['Rnd', '21', 'Sec', '117.46'], ['rnd', 'fold', 'roc_auc', 'pr_auc', 'acc'], [22, 1, 0.91751216328468022, 0.67438914346281598, 0.34591194968553457], [22, 2, 0.93049127803488774, 0.69984852857067326, 0.33962264150943394], [22, 3, 0.94294133934575386, 0.73087503904698881, 0.33962264150943394], [22, 4, 0.9338898013138921, 0.66480137017421992, 0.33544303797468356], [22, 5, 0.92185246755327677, 0.68103005524693017, 0.34177215189873417], [22, 6, 0.91331517385034444, 0.62429482819130044, 0.34177215189873417], [22, 7, 0.922863924050633, 0.64042031103253971, 0.34177215189873417], [22, 8, 0.91396110398974528, 0.6064132664299221, 0.34177215189873417], [22, 9, 0.91805700208299945, 0.64685271064484684, 0.34177215189873417], [22, 10, 0.91824727607755163, 0.62285916072991576, 0.34810126582278483], ['Rnd', '22', 'Sec', '119.99']]


f = open('test.txt', 'w')
results = []
f.write('coarse \n')
for i in range(1,int(coarse_rnds[-2][0])+1):
    roc_Sum = 0.0
    pr_Sum = 0.0
    acc_Sum = 0.0
    for row in coarse_rnds:
        if(row[0] == i):
            roc_Sum += row[2]
            pr_Sum += row[3]
            acc_Sum += 1-row[4]
    f.write('{0},{1:.3f},{2:.3f},{3:.3f} \n'.format(i,(roc_Sum/10.0),(pr_Sum/10.0),(acc_Sum/10.0)))

f.write('fine \n')
for i in range(1,int(fine_rnds[-2][0])+1):
    roc_Sum = 0.0
    pr_Sum = 0.0
    acc_Sum = 0.0
    for row in fine_rnds:
        if(row[0] == i):
            roc_Sum += row[2]
            pr_Sum += row[3]
            acc_Sum += 1-row[4]
    f.write('{0},{1:.3f},{2:.3f},{3:.3f} \n'.format(i,(roc_Sum/10.0),(pr_Sum/10.0),(acc_Sum/10.0)))

f.close()